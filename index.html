<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Timothy Dobin – Portfolio</title>
  <meta name="description" content="Portfolio of Timothy Dobin – Aspiring Engineer and Engineering Manager" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    /* --------------------  Design Tokens  -------------------- */
    :root {
      --bg: #0b0c10;
      --surface: #12131a;
      --surface-2: #171824;
      --text: #e6ebff;
      --muted: #9aa3b2;
      --accent: #66e0ff;
      --accent-2: #9d7dff;
      --ok: #3bd671;
      --warning: #ffd166;
      --danger: #ff6b6b;
      --card-border: rgba(255,255,255,.08);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 16px;
      --radius-lg: 22px;
      --radius-xl: 28px;
      --maxw: 1100px;
    }

    [data-theme="light"] {
      --bg: #f7f8fc;
      --surface: #ffffff;
      --surface-2: #f3f5fb;
      --text: #0f1222;
      --muted: #475069;
      --accent: #006dff;
      --accent-2: #7a5cff;
      --card-border: rgba(0,0,0,.08);
      --shadow: 0 10px 20px rgba(0,0,0,.06);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background:
        radial-gradient(1200px 800px at -10% -20%, rgba(157,125,255,.20), transparent 60%),
        radial-gradient(900px 700px at 110% 20%, rgba(102,224,255,.16), transparent 60%),
        linear-gradient(180deg, var(--bg), var(--bg));
      overflow-x: hidden;
    }

    /* Animated aurora background */
    .aurora {
      position: fixed;
      inset: -20vmax;
      z-index: -1;
      filter: blur(60px);
      opacity: .55;
      pointer-events: none;
      background:
        radial-gradient(closest-side at 20% 30%, rgba(157,125,255,.35), transparent 60%),
        radial-gradient(closest-side at 80% 20%, rgba(102,224,255,.35), transparent 60%),
        radial-gradient(closest-side at 60% 80%, rgba(255,109,170,.25), transparent 60%);
      animation: drift 22s ease-in-out infinite alternate;
    }
    @keyframes drift { from { transform: translateY(-2%) rotate(0.2deg); } to { transform: translateY(2%) rotate(-0.2deg); } }

    /* --------------------  Layout  -------------------- */
    .container { width: min(100%, var(--maxw)); margin-inline: auto; padding-inline: clamp(16px, 4vw, 28px); }
    section { scroll-margin-top: 100px; }

    /* --------------------  Header / Nav  -------------------- */
    .skip { position:absolute; left:-9999px; }
    .skip:focus { left: 12px; top: 12px; background: var(--accent); color: #001018; padding: 8px 12px; border-radius: 10px; z-index: 1000; }

    .nav {
      position: sticky; top: 0; z-index: 50;
      backdrop-filter: saturate(140%) blur(10px);
      background: linear-gradient(180deg, rgba(10,10,15,.75), rgba(10,10,15,.15));
      border-bottom: 1px solid var(--card-border);
    }
    .nav-inner { display:flex; align-items:center; justify-content: space-between; height: 68px; }
    .brand { display:flex; align-items:center; gap: 12px; font-weight: 800; letter-spacing: .2px; }
    .brand .logo { width: 34px; height: 34px; border-radius: 12px; background: conic-gradient(from 210deg, var(--accent), var(--accent-2)); box-shadow: inset 0 0 0 2px rgba(255,255,255,.12); position: relative; }
    .brand .logo::after { content:""; position:absolute; inset:6px; border-radius: 9px; background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.25), transparent); }
    .nav a { color: var(--text); text-decoration: none; font-weight: 600; opacity: .9; }
    .links { display:flex; gap: clamp(12px, 3vw, 24px); align-items:center; }
    .links a { position: relative; }
    .links a::after { content:""; position:absolute; left:0; right:0; bottom:-6px; height:2px; background: linear-gradient(90deg, var(--accent), var(--accent-2)); transform: scaleX(0); transform-origin: left; transition: .25s ease; border-radius: 2px; }
    .links a:hover::after { transform: scaleX(1); }

    .theme-toggle { display:inline-grid; place-items:center; width: 42px; height: 42px; border-radius: 12px; border: 1px solid var(--card-border); background: var(--surface); cursor: pointer; transition: .2s ease; }
    .theme-toggle:hover { transform: translateY(-1px); box-shadow: var(--shadow); }

    /* --------------------  Hero  -------------------- */
    .hero { padding: clamp(54px, 6vw, 84px) 0; }
    .hero-card {
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border: 1px solid var(--card-border);
      border-radius: var(--radius-xl);
      padding: clamp(22px, 5vw, 48px);
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
      isolation: isolate;
    }
    .hero-card::before { content:""; position:absolute; inset:-2px; border-radius: inherit; padding: 2px; background: linear-gradient(135deg, rgba(102,224,255,.8), rgba(157,125,255,.6), transparent 40%); -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); -webkit-mask-composite: xor; mask-composite: exclude; opacity:.55; }

    .kicker { text-transform: uppercase; font-size: .72rem; letter-spacing: .24em; color: var(--muted); font-weight: 700; }
    .title { font-size: clamp(2rem, 6vw, 3.5rem); margin: 8px 0 10px; line-height: 1.05; font-weight: 900; }
    .title .grad { background: linear-gradient(90deg, var(--accent), var(--accent-2)); -webkit-background-clip: text; background-clip: text; color: transparent; }
    .subtitle { font-size: clamp(1rem, 2.5vw, 1.25rem); color: var(--muted); max-width: 70ch; }

    .cta { display:flex; gap: 12px; flex-wrap: wrap; margin-top: 22px; }
    .btn { border: 1px solid var(--card-border); background: var(--surface-2); color: var(--text); padding: 12px 16px; border-radius: 14px; font-weight: 700; text-decoration: none; display:inline-flex; align-items:center; gap:10px; transition:.2s ease; }
    .btn:hover { transform: translateY(-1px); box-shadow: var(--shadow); }
    .btn.primary { border: none; background: linear-gradient(90deg, var(--accent), var(--accent-2)); color:#04111a; }
    .btn.ghost { background: transparent; }

    .stats { margin-top: 26px; display:grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 12px; }
    .stat { background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); border: 1px solid var(--card-border); border-radius: 14px; padding: 14px 16px; }
    .stat .num { font-size: 1.75rem; font-weight: 900; letter-spacing: .5px; }
    .stat .label { color: var(--muted); font-weight: 600; font-size: .9rem; }

    /* --------------------  Sections  -------------------- */
    .section { padding: clamp(34px, 6vw, 68px) 0; }
    .section h2 { font-size: clamp(1.6rem, 3.5vw, 2rem); margin: 0 0 20px; }
    .eyebrow { text-transform: uppercase; letter-spacing: .2em; color: var(--muted); font-weight: 800; font-size: .78rem; }

    .grid { display:grid; grid-template-columns: repeat(12, 1fr); gap: clamp(12px, 2vw, 20px); }
    .col-4 { grid-column: span 4; }
    .col-5 { grid-column: span 5; }
    .col-6 { grid-column: span 6; }
    .col-7 { grid-column: span 7; }
    .col-8 { grid-column: span 8; }
    .col-12 { grid-column: 1 / -1; }
    @media (max-width: 900px) { .col-4, .col-5, .col-6, .col-7, .col-8 { grid-column: 1 / -1; } }

    .card { background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); border: 1px solid var(--card-border); border-radius: var(--radius); padding: clamp(16px, 2.2vw, 20px); box-shadow: var(--shadow); }
    .card h3 { margin-top: 0; }

    .chips { display:flex; flex-wrap: wrap; gap: 10px; }
    .chip { padding: 8px 12px; border: 1px solid var(--card-border); background: var(--surface); border-radius: 999px; font-weight: 700; font-size: .93rem; }
    .chip.badge { background: linear-gradient(90deg, rgba(102,224,255,.15), rgba(157,125,255,.15)); border: none; }

    /* Timeline */
    .timeline { position: relative; padding-left: 24px; }
    .timeline::before { content:""; position: absolute; left: 8px; top: 0; bottom: 0; width: 2px; background: linear-gradient(180deg, var(--accent), var(--accent-2)); border-radius: 2px; opacity:.75; }
    .tl-item { position: relative; margin: 0 0 18px 0; }
    .tl-item::before { content:""; position: absolute; left: -1px; top: 6px; width: 18px; height: 18px; border-radius: 50%; background: linear-gradient(180deg, var(--accent), var(--accent-2)); box-shadow: 0 0 0 4px rgba(102,224,255,.15); }
    .role { font-weight: 800; }
    .meta { color: var(--muted); font-weight: 600; }
    .bullets { margin: 8px 0 0 0; padding-left: 18px; }

    /* Progress bars */
    .bar { height: 10px; background: rgba(255,255,255,.12); border-radius: 999px; overflow: hidden; }
    .bar > i { display:block; height: 100%; background: linear-gradient(90deg, var(--accent), var(--accent-2)); width: var(--w, 0%); }

    /* Reveal on scroll */
    .reveal { opacity: 0; transform: translateY(16px) scale(.98); transition: .6s cubic-bezier(.2,.8,.2,1); }
    .reveal.in { opacity: 1; transform: none; }

    /* Footer */
    footer { border-top: 1px solid var(--card-border); padding: 34px 0 60px; color: var(--muted); }

    /* Print */
    @media print {
      .nav, .theme-toggle, .cta, .aurora { display:none !important; }
      body { background: #fff; color: #000; }
      .card, .hero-card { border: 1px solid #ddd; box-shadow: none; }
    }
  </style>
</head>
<body>
  <a class="skip" href="#main">Skip to content</a>
  <div class="aurora" aria-hidden="true"></div>

  <!-- ====================  NAV  ==================== -->
  <header class="nav">
    <div class="container nav-inner">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <a href="#" aria-label="Home">Timothy Dobin</a>
      </div>
      <nav class="links" aria-label="Primary">
        <a href="#education">Education</a>
        <a href="#experience">Experience</a>
        <a href="#activities">Activities</a>
        <a href="#skills">Skills</a>
        <a href="#contact">Contact</a>
        <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme" title="Toggle theme">
          <svg id="iconMoon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
          <svg id="iconSun" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none" aria-hidden="true"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
        </button>
      </nav>
    </div>
  </header>

  <!-- ====================  HERO  ==================== -->
  <main id="main" class="container hero">
    <div class="hero-card reveal">
      <div class="kicker">Aspiring Engineer & Engineering Manager</div>
      <h1 class="title">Hi, I'm <span class="grad">Timothy Dobin</span>.</h1>
      <p class="subtitle">I love building things, improving systems, and collaborating in teams—from coding in <strong>Java</strong> & <strong>JavaScript</strong> to keeping operations smooth during peak times. I'm also a dedicated <strong>jazz drummer</strong> who thrives on rhythm and teamwork.</p>
      <div class="cta">
        <a class="btn primary" href="mailto:timdobin12131@gmail.com" aria-label="Email Timothy">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16v16H4z" opacity=".2"/><path d="M22 6l-10 7L2 6"/></svg>
          Email Me
        </a>
        <!-- Replace href with your hosted resume pdf path -->
        <a class="btn" href="resume.pdf" download>
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
          Download Résumé
        </a>
        <button class="btn ghost" id="copyEmail">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
          Copy Email
        </button>
      </div>

      <div class="stats" aria-label="Quick stats">
        <div class="stat"><div class="num" data-count="4.42">0.00</div><div class="label">Cumulative GPA</div></div>
        <div class="stat"><div class="num" data-count="3">0</div><div class="label">Years in Jazz Band</div></div>
        <div class="stat"><div class="num" data-count="50" data-plus="+">0</div><div class="label">Snack Packs Sold</div></div>
        <div class="stat"><div class="num" data-count="2000" data-prefix="$" data-plus="+">0</div><div class="label">Profit Generated</div></div>
      </div>
    </div>
  </main>

  <!-- ====================  EDUCATION  ==================== -->
  <section id="education" class="section">
    <div class="container grid">
      <div class="col-5 reveal">
        <div class="eyebrow">Education</div>
        <h2>Vernon Hills High School <span style="color:var(--muted)">— Vernon Hills, IL</span></h2>
        <p class="meta"><strong>Expected Graduation:</strong> 2026</p>
        <div class="card">
          <h3>Recognition & Highlights</h3>
          <ul>
            <li><strong>Sugarman Award</strong> for Excellence in Spanish I, II, and III</li>
            <li><strong>AP Scholar with Distinction</strong></li>
            <li><strong>4.42 GPA</strong> cumulative</li>
            <li>Member, <strong>VHHS Jazz Band</strong> (Drummer, 3 years)</li>
            <li>Active member, <strong>Computer Science Club</strong></li>
          </ul>
        </div>
      </div>
      <div class="col-7 reveal">
        <div class="card">
          <h3>Focus Areas</h3>
          <div class="chips" aria-label="Focus areas">
            <span class="chip badge">Problem Solving</span>
            <span class="chip badge">Team Leadership</span>
            <span class="chip badge">Operations & Efficiency</span>
            <span class="chip badge">Software Foundations</span>
            <span class="chip badge">Music & Performance</span>
          </div>
          <div style="height:14px"></div>
          <div>
            <div style="display:grid; gap:14px">
              <div>
                <div style="display:flex; justify-content:space-between; font-weight:700"><span>Spanish</span><span>III Award</span></div>
                <div class="bar"><i style="--w:88%"></i></div>
              </div>
              <div>
                <div style="display:flex; justify-content:space-between; font-weight:700"><span>STEM Rigor</span><span>High</span></div>
                <div class="bar"><i style="--w:92%"></i></div>
              </div>
              <div>
                <div style="display:flex; justify-content:space-between; font-weight:700"><span>Collaboration</span><span>Expert</span></div>
                <div class="bar"><i style="--w:95%"></i></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ====================  EXPERIENCE  ==================== -->
  <section id="experience" class="section">
    <div class="container">
      <div class="eyebrow">Experience</div>
      <h2>Hands-on work that sharpened my systems mindset</h2>
      <div class="grid">
        <div class="col-8 reveal">
          <div class="card">
            <div class="role">Crew Member — AMC</div>
            <div class="meta">Vernon Hills, IL • <strong>Oct 2024 – Present</strong></div>
            <div class="timeline" style="margin-top:10px">
              <div class="tl-item">
                <div><strong>Took initiative</strong> by volunteering for busy-day shifts to keep operations smooth and wait times low.</div>
              </div>
              <div class="tl-item">
                <div><strong>Highest seller in the Chicago Market</strong> during the U.S. Snack Pack competition — sold <strong>50+</strong> packs and generated <strong>$2000+</strong> in profit.</div>
              </div>
            </div>
          </div>
        </div>
        <aside class="col-4 reveal">
          <div class="card">
            <h3>Toolbox</h3>
            <div class="chips">
              <span class="chip">Customer Focus</span>
              <span class="chip">Time Management</span>
              <span class="chip">Cash Handling</span>
              <span class="chip">Teamwork</span>
            </div>
          </div>
        </aside>
      </div>
    </div>
  </section>

  <!-- ====================  ACTIVITIES  ==================== -->
  <section id="activities" class="section">
    <div class="container grid">
      <div class="col-6 reveal">
        <div class="eyebrow">Activities</div>
        <h2>Jazz Group</h2>
        <div class="card">
          <p>Played drums alongside a small group of professional jazz musicians. Learned to listen deeply, lock in with the rhythm section, and elevate the group’s sound.</p>
          <ul class="bullets">
            <li>Collaboration & ensemble awareness</li>
            <li>Performance under pressure</li>
            <li>Practice discipline & iteration</li>
          </ul>
        </div>
      </div>
      <div class="col-6 reveal">
        <div class="card" style="display:grid; place-items:center; min-height: 220px; text-align:center">
          <!-- Minimal animated SVG equalizer -->
          <svg width="220" height="120" viewBox="0 0 220 120" aria-hidden="true">
            <rect x="10" y="10" width="200" height="100" rx="16" fill="none" stroke="currentColor" opacity=".25"/>
            <g transform="translate(30,20)" fill="url(#g)">
              <rect id="b1" width="20" height="80" rx="6"/>
              <rect id="b2" x="36" width="20" height="80" rx="6"/>
              <rect id="b3" x="72" width="20" height="80" rx="6"/>
              <rect id="b4" x="108" width="20" height="80" rx="6"/>
            </g>
            <defs>
              <linearGradient id="g" x1="0" x2="1">
                <stop offset="0" stop-color="var(--accent)"/>
                <stop offset="1" stop-color="var(--accent-2)"/>
              </linearGradient>
            </defs>
          </svg>
          <small style="color:var(--muted)">Rhythm, dynamics, and listening — skills that transfer to engineering.</small>
        </div>
      </div>
    </div>
  </section>

  <!-- ====================  SKILLS  ==================== -->
  <section id="skills" class="section">
    <div class="container">
      <div class="eyebrow">Skills & More</div>
      <h2>Technical, language, and volunteer experience</h2>
      <div class="grid">
        <div class="col-6 reveal">
          <div class="card">
            <h3>Technical</h3>
            <div class="chips">
              <span class="chip">Java</span>
              <span class="chip">JavaScript</span>
              <span class="chip">Git Basics</span>
              <span class="chip">OOP</span>
              <span class="chip">Algorithms</span>
            </div>
          </div>
        </div>
        <div class="col-6 reveal">
          <div class="card">
            <h3>Languages</h3>
            <div class="chips">
              <span class="chip">English — Fluent</span>
              <span class="chip">Russian — Conversational</span>
            </div>
          </div>
        </div>
        <div class="col-6 reveal">
          <div class="card">
            <h3>Volunteer</h3>
            <p><strong>Feed My Starving Children</strong> — contributed time to meal packing to support communities in need.</p>
          </div>
        </div>
        <div class="col-6 reveal">
          <div class="card">
            <h3>Interests & Hobbies</h3>
            <div class="chips">
              <span class="chip">Music</span>
              <span class="chip">Art</span>
              <span class="chip">Drumming</span>
              <span class="chip">Creative Tech</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ====================  CONTACT  ==================== -->
  <section id="contact" class="section">
    <div class="container grid">
      <div class="col-7 reveal">
        <div class="eyebrow">Contact</div>
        <h2>Let’s connect</h2>
        <div class="card">
          <p>Whether it's a project, internship, or collaboration, I'm always excited to learn and contribute.</p>
          <form id="contactForm" onsubmit="return handleMailto(event)" style="display:grid; gap:12px; margin-top:8px">
            <label>
              <span style="display:block; font-weight:700; margin-bottom:6px">Your Name</span>
              <input name="name" required placeholder="Jane Smith" style="width:100%; padding:12px 14px; border-radius:12px; border:1px solid var(--card-border); background: var(--surface); color:var(--text)" />
            </label>
            <label>
              <span style="display:block; font-weight:700; margin-bottom:6px">Your Email</span>
              <input type="email" name="from" required placeholder="jane@example.com" style="width:100%; padding:12px 14px; border-radius:12px; border:1px solid var(--card-border); background: var(--surface); color:var(--text)" />
            </label>
            <label>
              <span style="display:block; font-weight:700; margin-bottom:6px">Message</span>
              <textarea name="message" rows="4" required placeholder="Hi Timothy, I’d love to chat about…" style="width:100%; padding:12px 14px; border-radius:12px; border:1px solid var(--card-border); background: var(--surface); color:var(--text)"></textarea>
            </label>
            <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap">
              <button class="btn primary" type="submit">Send Email</button>
              <a class="btn" href="mailto:timdobin12131@gmail.com">Direct Email</a>
            </div>
          </form>
        </div>
      </div>
      <aside class="col-5 reveal">
        <div class="card" style="height:100%">
          <h3>Quick Links</h3>
          <ul>
            <li><a class="btn" href="#education">Education</a></li>
            <li><a class="btn" href="#experience">Experience</a></li>
            <li><a class="btn" href="#skills">Skills</a></li>
          </ul>
          <p style="color:var(--muted)">Tip: host this page and update the <em>Download Résumé</em> button to your PDF URL.</p>
        </div>
      </aside>
    </div>
  </section>

  <footer>
    <div class="container" style="display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:10px">
      <div>© <span id="year"></span> Timothy Dobin</div>
      <a href="mailto:timdobin12131@gmail.com" class="btn" style="padding:8px 12px">timdobin12131@gmail.com</a>
    </div>
  </footer>

  <!-- ====================  JSON-LD Schema  ==================== -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Timothy Dobin",
      "email": "mailto:timdobin12131@gmail.com",
      "description": "Aspiring Engineer and Engineering Manager",
      "knowsAbout": ["Java", "JavaScript", "Operations", "Jazz Drumming"],
      "alumniOf": {"@type":"EducationalOrganization","name":"Vernon Hills High School"}
    }
  </script>

  <!-- ====================  Interactions  ==================== -->
  <script>
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Theme toggle with localStorage
    const root = document.documentElement;
    const themeToggle = document.getElementById('themeToggle');
    const iconMoon = document.getElementById('iconMoon');
    const iconSun = document.getElementById('iconSun');
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
      document.documentElement.setAttribute('data-theme', savedTheme);
      if (savedTheme === 'light') { iconMoon.style.display='none'; iconSun.style.display='block'; }
    }
    themeToggle.addEventListener('click', () => {
      const cur = document.documentElement.getAttribute('data-theme') || 'dark';
      const next = cur === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
      const light = next === 'light';
      iconMoon.style.display = light ? 'none' : 'block';
      iconSun.style.display = light ? 'block' : 'none';
    });

    // Copy email
    document.getElementById('copyEmail').addEventListener('click', async () => {
      const email = 'timdobin12131@gmail.com';
      try { await navigator.clipboard.writeText(email); toast('Email copied!'); } catch { toast('Copy failed'); }
    });

    function toast(msg) {
      const t = document.createElement('div');
      t.textContent = msg;
      t.style.cssText = 'position:fixed; inset:auto auto 22px 50%; transform:translateX(-50%); background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#001018; padding:10px 14px; border-radius:12px; font-weight:800; z-index:9999; box-shadow:'+getComputedStyle(document.body).getPropertyValue('--shadow');
      document.body.appendChild(t);
      setTimeout(()=>{ t.style.transition='all .3s ease'; t.style.opacity='0'; t.style.transform='translateX(-50%) translateY(8px)'; }, 1400);
      setTimeout(()=> t.remove(), 1800);
    }

    // Animate counters
    const counters = document.querySelectorAll('[data-count]');
    const format = (n, prefix='', plus='') => `${prefix}${n.toLocaleString()}${plus}`;
    function animateCounter(el){
      const target = parseFloat(el.dataset.count);
      const plus = el.dataset.plus || '';
      const prefix = el.dataset.prefix || '';
      const isFloat = String(target).includes('.');
      const duration = 1100;
      const start = performance.now();
      function tick(now){
        const p = Math.min(1, (now - start) / duration);
        const val = target * (0.2 + 0.8 * p * (2 - p)); // ease-out
        el.textContent = isFloat ? format(parseFloat(val.toFixed(2)), prefix, plus) : format(Math.round(val), prefix, plus);
        if (p < 1) requestAnimationFrame(tick); else el.textContent = isFloat ? format(target, prefix, plus) : format(target, prefix, plus);
      }
      requestAnimationFrame(tick);
    }

    // Reveal on scroll + counters once
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e => {
        if (e.isIntersecting){
          e.target.classList.add('in');
          if (e.target.classList.contains('hero-card')) {
            counters.forEach(animateCounter);
          }
          io.unobserve(e.target);
        }
      });
    }, { threshold:.16 });
    document.querySelectorAll('.reveal').forEach(el => io.observe(el));

    // Simple mailto form
    function handleMailto(ev){
      ev.preventDefault();
      const data = new FormData(ev.target);
      const name = encodeURIComponent(data.get('name'));
      const from = encodeURIComponent(data.get('from'));
      const message = encodeURIComponent(data.get('message'));
      const subject = `Portfolio Contact — ${name}`;
      const body = `From: ${name} (%3C${from}%3E)%0D%0A%0D%0A${message}`;
      window.location.href = `mailto:timdobin12131@gmail.com?subject=${subject}&body=${body}`;
      return false;
    }
    window.handleMailto = handleMailto;

    // Fun: pulse bars in the SVG equalizer
    const bars = ['b1','b2','b3','b4'].map(id => document.getElementById(id));
    function pulse(){
      bars.forEach((b,i)=>{
        const t = Date.now()/1000 + i;
        const h = 30 + Math.abs(Math.sin(t*1.6 + i))*50;
        b.setAttribute('y', 80 - h);
        b.setAttribute('height', h);
      });
      requestAnimationFrame(pulse);
    }
    pulse();
  </script>
</body>
</html>
